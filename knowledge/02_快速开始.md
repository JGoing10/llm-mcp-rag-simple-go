# 快速开始

## 环境准备
- Go 1.23+（工具链 `go1.24.3`）
- Windows/Linux/macOS

## 安装步骤

### 1) 克隆与依赖
```bash
git clone <repository-url>
cd mcptest
go mod download
```

### 2) 配置 .env
按需填写：
```
OPENAI_API_KEY=你的主模型 API Key
OPENAI_BASE_URL=https://api.deepseek.com/v1  # 可选，兼容 OpenAI 接口
OPENAI_MODEL=deepseek-chat                   # 示例

EMBEDDING_BASE_URL=https://api.siliconflow.cn/v1
EMBEDDING_KEY=你的嵌入服务 API Key
EMBEDDING_MODEL=BAAI/bge-large-zh-v1.5

LOG_LEVEL=info
MAX_RETRIES=3
TIMEOUT_SECONDS=30
DEBUG=false

AGENT_NAME=LLM-MCP-RAG-SIMPLE agent
AGENT_SYSTEM_PROMPT=
AGENT_CONTEXT=你拥有强大的RAG检索能力和工具调用能力，可以帮助用户解决各种问题。
```

### 3) 构建与运行
```bash
go build -o llm-mcp-rag-simple .
./llm-mcp-rag-simple
```

## 使用指南

启动后：
- 自动加载 `knowledge/` 文档并向量化
- 尝试连接 `mcp_servers.json` 中的 MCP 服务

交互命令：
- `help` 显示帮助
- `clear` 清除对话历史
- `history` 显示历史消息
- `clients` 查看可用 MCP 客户端
- `exit` 退出程序

示例对话：
```
> 你好，请介绍一下这个项目
这是一个结合 LLM、MCP 和 RAG 的智能代理示例...

> 如何配置 DeepSeek？
在 .env 中设置：
OPENAI_API_KEY=你的密钥
OPENAI_BASE_URL=https://api.deepseek.com/v1
OPENAI_MODEL=deepseek-chat
```

## 添加知识
- 支持 `.md` / `.txt`
- 将文档放入 `knowledge/` 目录并重启程序

目录建议：
```
knowledge/
├── 01_项目介绍.md
├── 02_快速开始.md
├── 03_API配置指南.md
├── 04_MCP工具集成.md
├── 05_常见问题解答.md
└── 06_开发指南.md
```

## 常见问题
- 启动失败：检查 `.env` 必填项是否完整
- 响应慢：更换更快的服务商或调低 `TIMEOUT_SECONDS`
- 工具不可用：确认 `mcp-calculator-server.exe` 路径、权限与配置

## 下一步
- 阅读 `03_API配置指南.md`
- 查看 `04_MCP工具集成.md`